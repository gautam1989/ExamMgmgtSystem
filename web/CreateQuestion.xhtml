<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Facelet Title</title>
        <h:outputStylesheet name="./css/default.css"/>

    </h:head>
    <h:body>
        <ui:composition template="/WEB-INF/templates/newTemplate.xhtml">

            <ui:define name="left">
                User Info Not available
            </ui:define>
            <ui:define name="right">
                No active Session
            </ui:define>
            <ui:define name="content">

                <h:form id="createQuestionform">
                    <p:growl id="growl" showDetail="true" />


                    <div align="center">
                        <p:panelGrid>
                            <f:facet name="header">

                                Create / Update Questions
                            </f:facet>
                            <p:row>
                                <p:column >Module</p:column>
                                <p:column ><h:inputText value="#{modules.moduleId}"></h:inputText>   
                                    <p:commandButton value="Select Module" icon="ui-icon-extlink" actionListener="#{selectModuleView.selectAllModuels(modules)}">
                                        <p:ajax event="dialogReturn" listener="#{selectModuleView.onModuleChosen(event)}"  update="growl" />
                                    </p:commandButton>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column >Subject Tag</p:column>
                                <p:column ><h:inputText value="#"></h:inputText>
                                    <p:commandButton value="Select Tags" type="button" onclick="PF('dlg1').show();" style="border-width: 0" />
                                </p:column>
                            </p:row>


                            <p:row>
                                <p:column >Select type of Question</p:column>
                                <p:column>
                                    <p:selectOneMenu value="#{questionBank.selectedQuestionType}">
                                        <p:ajax event="valueChange" update="@form"
                                                listener="#{questionBank.selectQuestionTypeListener()}" />
                                        <f:selectItems value="#{questionBank.questiontypes}"></f:selectItems>
                                    </p:selectOneMenu>
                                </p:column>
                            </p:row>



                            <p:row rendered="#{questionBank.selectedQuestionType eq 'Written Question'}" id="writtenQuestion">
                                <p:column>Question</p:column>
                                <p:column><h:inputTextarea rows="4" cols="40" value=""></h:inputTextarea></p:column>
                            </p:row>

                            <p:row rendered="#{questionBank.selectedQuestionType eq 'Multiple Type Question'}" id="multiTypeQuestion">
                                <p:column colspan="2" >
                                    <p:panelGrid>
                                        <p:row>
                                            <p:column>Question</p:column>
                                            <p:column><h:inputTextarea rows="4" cols="70" value="#"></h:inputTextarea></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column>Option 1</p:column>
                                            <p:column><h:inputText  value="#"></h:inputText></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column>Option 2</p:column>
                                            <p:column><h:inputText  value="#"></h:inputText></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column>Option 3</p:column>
                                            <p:column><h:inputText  value="#"></h:inputText></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column>Option 4</p:column>
                                            <p:column><h:inputText  value="#"></h:inputText></p:column>
                                        </p:row>
                                    </p:panelGrid>
                                </p:column>
                            </p:row>
                            <p:row rendered="#{questionBank.selectedQuestionType eq 'Multi Part Question'}" id="multiPartQuestion">

                                <p:column>Question</p:column>
                                <p:column><h:inputTextarea rows="4" cols="40" value="#"></h:inputTextarea></p:column>
                            </p:row>
                            <p:row rendered="#{(questionBank.selectedQuestionType eq 'Multi Part Question') or (questionBank.selectedQuestionType eq 'Multiple Type Question') or (questionBank.selectedQuestionType eq 'Written Question')}">
                                <p:column>Marks Alloted</p:column>
                                <p:column><p:spinner value="" stepFactor="1"></p:spinner></p:column>
                            </p:row>
                            <p:row>

                                <p:column colspan="2"  style="alignment-adjust: central">
                                    <h:commandButton value="Create/Update" ></h:commandButton>

                                </p:column>

                            </p:row>
                        </p:panelGrid>
                    </div> 

                    <p:dialog header="Effects" widgetVar="dlg1" showEffect="explode" hideEffect="bounce" height="100">
                        <h:outputText value="This dialog has nice effects." />
                    </p:dialog>

                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>

